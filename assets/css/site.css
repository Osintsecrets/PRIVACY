/* ===== About page polish ===== */

body{background:var(--bg); color:var(--text)}
.container{max-width:1200px; margin-inline:auto; padding:1rem}

/* Two-column layout on desktop */
.about-layout{display:grid; grid-template-columns:minmax(0,1fr); gap:1.25rem}
@media (min-width: 980px){
  .about-layout{grid-template-columns:minmax(0,1fr) 280px}
}

/* Readable article */
.prose{max-width:72ch; line-height:1.7; font-size:1.05rem}
.prose h1{font-size:2rem; line-height:1.2; margin:.3rem 0 1rem}
.prose h2{font-size:1.4rem; margin:1.6rem 0 .4rem}
.prose h3{font-size:1.15rem; margin:1.2rem 0 .3rem}
.prose p{margin:.75rem 0}
.prose .lede{font-size:1.1rem; color:var(--text)}
.prose hr{border:0; border-top:1px solid var(--border); margin:1.4rem 0}

/* TOC */
.toc{border:1px solid var(--border); border-radius:12px; padding:.75rem; background:var(--card); height:max-content}
.toc-card{display:flex; flex-direction:column; gap:.5rem}
.toc h2{font-size:1rem; margin:0 0 .5rem}
.toc-nav{display:flex; flex-direction:column; gap:.35rem}
.toc-list{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.35rem}
.toc a{color:inherit; text-decoration:none; font-size:.95rem}
.toc a:hover, .toc a:focus{ text-decoration:underline }
@media (max-width: 979px){
  .toc{order:-1}
}

/* Heading anchor links */
.heading-anchor{margin-left:.35rem; opacity:0; text-decoration:none; border-radius:6px; padding:.1rem .25rem; border:1px solid transparent}
.prose h2:hover .heading-anchor, .prose h3:hover .heading-anchor,
.prose h2:focus-within .heading-anchor, .prose h3:focus-within .heading-anchor{opacity:1}
.heading-anchor:focus{opacity:1; outline:2px solid var(--accent); border-color:var(--accent)}

/* Back to top */
.back-to-top{position:fixed; right:1rem; bottom:1rem; border:1px solid var(--border); border-radius:999px; background:var(--card); color:var(--text); padding:.55rem .7rem; cursor:pointer; box-shadow:0 6px 24px rgba(0,0,0,.12)}
.back-to-top:focus{outline:2px solid var(--accent)}
[hidden]{display:none !important}

/* Smooth scroll, respectful */
html:focus-within{scroll-behavior:smooth}
@media (prefers-reduced-motion: reduce){ html:focus-within{scroll-behavior:auto} }

/* Sticky sidebar and responsive TOC toggle */
@media (min-width: 980px){
  .toc{position:sticky; top:1.5rem; max-height:calc(100vh - 3rem); overflow:auto}
}

.toc-toggle{display:none}

@media (max-width: 979px){
  .toc{padding:0; border:0; background:transparent}
  .toc-card{border:1px solid var(--border); border-radius:12px; background:var(--card);}
  .toc-toggle{display:flex; align-items:center; justify-content:space-between; width:100%; border:1px solid var(--border); border-radius:12px; background:var(--card); color:var(--text); padding:.65rem .8rem; font-size:1rem; font-weight:600; cursor:pointer}
  .toc-toggle:focus{outline:2px solid var(--accent); outline-offset:2px}
  .toc[data-collapsed="false"] .toc-toggle{border-bottom-left-radius:0; border-bottom-right-radius:0}
  .toc-nav{border:1px solid var(--border); border-top:0; border-radius:0 0 12px 12px; padding:.75rem; background:var(--card)}
  .toc[data-collapsed="true"] .toc-nav{display:none}
}
